<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A.S.T.R.A Chat</title>
<link rel="stylesheet" href="style.css">
<script src="main.js" defer></script> <!-- dito lang -->
</head>
<body>

   <!-- Options button -->
<button id="option-btn" 
        style="position: fixed; top: 20px; left: 20px; padding: 8px 12px; border-radius: 8px; border: none; cursor: pointer; z-index:1001;">
  ⚙️ Options
</button>

<!-- Options Menu -->
<div id="option-menu" 
     style="position: fixed; top: 60px; left: 20px; background: #fff; border: 1px solid #ccc; border-radius: 8px; padding: 10px; display: none; z-index:1001; box-shadow: 0 4px 12px rgba(0,0,0,0.1); width: fit-content; min-width: max-content;">

  <!-- Dark Mode Toggle -->
  <button id="dark-toggle" 
          style="padding: 6px 10px; border-radius: 6px; border: none; cursor: pointer; margin-bottom:10px; display:block; width:100%;">
    🌙 Dark Mode
  </button>

  <!-- Notes button -->
  <button id="notes-btn"
          style="padding: 6px 10px; border-radius: 6px; border: none; cursor: pointer; display:block; width:100%; margin-bottom:5px;">
    📒 Notes
  </button>

  <!-- Calendar button -->
  <button id="calendar-btn"
          style="padding: 6px 10px; border-radius: 6px; border: none; cursor: pointer; display:block; width:100%;">
    📅 Calendar
  </button>

  <!-- View All Events button -->
  <button id="view-events-btn"
          style="padding: 6px 10px; border-radius: 6px; border: none; cursor: pointer; display:block; width:100%; margin-top:5px;">
    📋 View All Events
  </button>

</div>

<!-- Notes Panel -->
<div id="notes-panel" 
     style="display:none; position: fixed; right: 20px; top: 80px; width: 250px; height: 300px; background: #fff; border: 1px solid #ccc; border-radius: 8px; padding: 10px; z-index:1002; box-shadow: 0 4px 12px rgba(0,0,0,0.1); flex-direction:column;">

  <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
    <h4 style="margin:0;">📒 Notes</h4>
    <div>
      <button id="fullscreen-notes" 
              style="background:none; border:none; font-size:16px; cursor:pointer; margin-right:5px;" 
              title="Fullscreen">⛶</button>
      <button id="close-notes" 
              style="background:none; border:none; font-size:16px; cursor:pointer;">❌</button>
    </div>
  </div>

  <!-- textarea halos lahat ng space -->
  <textarea id="notes-input" 
            style="flex-grow:1; width:100%; resize:none; padding:8px; border-radius:6px; border:1px solid #ccc; margin-bottom:8px;"></textarea>
  
  <!-- Buttons row -->
  <div style="display:flex; gap:8px; justify-content:space-between; margin-top:10px;">
    <button id="back-notes" 
            style="padding:6px 12px; border:none; border-radius:6px; cursor:pointer;">
      ⬅️ Back
    </button>

    <button id="save-notes" 
            style="padding:6px 12px; border:none; border-radius:6px; cursor:pointer; background:#4CAF50; color:white;">
      💾 Save
    </button>

    <button id="next-notes" 
            style="padding:6px 12px; border:none; border-radius:6px; cursor:pointer;">
      Next ➡️
    </button>
  </div>

</div>

<!-- Full Calendar Panel -->
<div id="calendar-panel" style="display:none; position: fixed; right: 20px; top: 80px; width: 350px; height: 400px; background: #fff; border: 1px solid #ccc; border-radius: 8px; padding: 10px; z-index:1002; box-shadow:0 4px 12px rgba(0,0,0,0.1); flex-direction:column;">
  <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
    <h4>📅 Calendar</h4>
    <button id="close-calendar" style="background:none; border:none; font-size:16px; cursor:pointer;">❌</button>
  </div>

  <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
    <button id="prev-month">⬅️</button>
    <span id="month-year"></span>
    <button id="next-month">➡️</button>
  </div>

  <div id="calendar-grid" style="display:grid; grid-template-columns:repeat(7,1fr); gap:2px; text-align:center;"></div>

  <input type="text" id="event-text" placeholder="Event description" style="width:100%; margin-top:5px; padding:5px;">
  <button id="add-calendar-event" style="width:100%; margin-top:5px;">➕ Add Event</button>
</div>

<!-- All Events Panel -->
<div id="all-events-panel" 
     style="display:none; position: fixed; right: 20px; top: 80px; width: 350px; max-height: 400px; background: #fff; border-radius: 12px; padding: 15px; z-index:1002; box-shadow:0 8px 24px rgba(0,0,0,0.2); overflow-y:auto; font-family: 'Inter', sans-serif; flex-direction:column;">

  <!-- Header (Title + Close button) -->
  <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
    <h4 style="margin:0; font-weight:600;">📋 All Events</h4>
    <button id="close-events" style="background:none; border:none; font-size:18px; cursor:pointer;">❌</button>
  </div>

  <!-- Events List -->
  <div id="events-list" style="display:flex; flex-direction:column; gap:10px;"></div>
</div>

</div>

<div id="chat-container">
  <div id="welcome-message">Hi there! How’s your day going? How can I assist you today?</div>
  <div id="conversation"></div>
</div>

<div id="input-bar">
  <textarea id="user-input" placeholder="Type your question..." inputmode="text" enterkeyhint="newline"></textarea>
  <button id="send-btn">Send</button>
</div>